<ion-header >
  <div text-center >
      <h1 id="titre1"> Bienvenue dans la page des articles </h1>
     </div>
</ion-header>
<ion-content>
 


<div *ngIf="articles!=null; else loadIndexBD">
  <div  id="Page">
    
       <ion-label id="fontPage">Page </ion-label>
       
        <ion-label id="fontPageCourante"> {{pageCourante}} </ion-label>
      
 </div>  
  <div id="pagination" >
        <div id="MarginAuto">
           <ion-label id="fontPage">Pagination </ion-label>
         </div>
     <div id="IfMargin" *ngIf="pageCourante >= 2 " >
            <ion-button (click)="before()"> < </ion-button>
          </div>
      <div *ngIf="pageCourante <= 9">
            <ion-button (click)="next()"> > </ion-button>
          </div>
     </div>	
    <ion-grid >
 
        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label id="fontPage">Titre</ion-label>
            </ion-item>
          </ion-col>
          <ion-col size-sm="2">
            <ion-item >
              <ion-label id="fontPage">Etat</ion-label>
            </ion-item>
         </ion-col>
         <ion-col size-sm="2">
            <ion-item >
              <ion-label id="fontPage">Détails</ion-label>
            </ion-item>
         </ion-col>
        </ion-row>

     <div *ngFor="let article of articles" >
        <ion-row>
            <ion-col>
                <ion-item >
                  <ion-label>{{article.article.title}}</ion-label>
                </ion-item> 
            </ion-col>
            <ion-col size-sm="2">
                <ion-item >
                <div *ngIf="article.valide==true; else ajout">
                  <ion-button color="danger" (click)="delete(article.article.id)">Supprimer</ion-button>
                </div>
                <ng-template #ajout>
                  <ion-button  color="primary" (click)="add(article.article.id)">Ajouter</ion-button>
                </ng-template>
              </ion-item>
            </ion-col>
            <ion-col size-sm="2">
                <ion-item > 
                    <ion-button (click)="detail(article.article)">Détails</ion-button>
                </ion-item >   
            </ion-col> 
          </ion-row>
       </div>
  </ion-grid>
  <div id="pagination" >
    <div id="MarginAuto">
          <ion-label id="fontPage">Pagination </ion-label>
        </div>
    <div *ngIf="pageCourante >= 2 " id="IfMargin" >
           <ion-button (click)="before()"> < </ion-button>
         </div>
     <div *ngIf="pageCourante <= 9">
           <ion-button (click)="next()"> > </ion-button>
         </div>
    </div>	
</div>
<ng-template #loadIndexBD>
    <div id="connexion" >
        <h1 id="indexDBH1" > Pas de connexion (les articles sont récuperé depuis l'index DB) </h1>
    </div>
    <div id="pagination"  >
      <div id="MarginAuto">
          <ion-label style="font-weight: bold;">Pagination </ion-label>
      </div>
      <div *ngIf="pageCouranteBD > 1 " id="IfMargin" >
        <ion-button (click)="beforeINDEXBD()"> < </ion-button>
      </div>
      <div *ngIf="indexDB.length >= 10">
        <ion-button (click)="nextINDEXBD()"> > </ion-button>
      </div>
  </div>	
    <ion-grid >
      
        <ion-row>
            <ion-col>
              <ion-item>
                <ion-label id="fontPage">Titre</ion-label>
              </ion-item>
            </ion-col>
            <ion-col size-sm="2">
              <ion-item >
                <ion-label id="fontPage">Etat</ion-label>
              </ion-item>
            </ion-col> 
            <ion-col size-sm="2">
                <ion-item >
                  <ion-label id="fontPage">Détails</ion-label>
                </ion-item>
              </ion-col> 
          </ion-row>
                <div *ngFor="let article of indexDB" >
                    <ion-row>
                              <ion-col>
                                <ion-item>
                                  <ion-label>{{article.article.title}}</ion-label>
                                </ion-item>
                              </ion-col>
                              <ion-col size-sm="2">
                                  <ion-item > 
                                      <div *ngIf="article.valide==true">
                                          <ion-button color="danger" (click)="deleteFromIndexBD(article.article.id)">Supprimer</ion-button>
                                      </div>
                                       
                                  </ion-item >   
                              </ion-col> 
                              <ion-col size-sm="2">
                                  <ion-item > 
                                      <ion-button (click)="detail(article.article)">Détails</ion-button>
                                  </ion-item >   
                              </ion-col> 
                  </ion-row>
                </div>
        </ion-grid>	
  <div id="pagination"  >
      <div id="MarginAuto">
        <ion-label id="fontPage" >Pagination </ion-label>
      </div>
      <div *ngIf="pageCouranteBD > 1 " id="IfMargin" >
        <ion-button (click)="beforeINDEXBD()"> < </ion-button>
      </div>
      <div *ngIf="indexDB.length >= 10">
        <ion-button (click)="nextINDEXBD()"> > </ion-button>
      </div>
  </div>	
 	
</ng-template>

</ion-content>
